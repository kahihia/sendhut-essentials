{% extends "base_dashboard.html" %}


{% block context_menu %}
  <ul class="nav">
    <li class="nav-item">
      <a class="btn btn-outline-primary" href="{% url 'dashboard:employee_add' %}"
         role="button">
         Add employee
      </a>
    </li>
  </ul>
{% endblock %}

{% block content %}
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="employees-tab" data-toggle="tab" href="#employees" role="tab" aria-controls="home" aria-selected="true">Employees</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="invited-tab" data-toggle="tab" href="#invited" role="tab" aria-controls="contact" aria-selected="false">Invited</a>
    </li>
  </ul>
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="employees"
         role="tabpanel" aria-labelledby="employees-tab">
         <table class="table table-striped">
           <thead>
             <tr>
               <th scope="col">Name</th>
               <th scope="col">Email</th>
               <th scope="col">Employee ID</th>
               <th scope="col">Allowance</th>
               <th scope="col">Role</th>
             </tr>
           </thead>
           <tbody>
             {% for e in employees.joined %}
               <tr>
                 <td>{{ e.user.get_full_name }}</td>
                 <td>{{ e.user.email }}</td>
                 <td>{{ e.id }}</td>
                 <td>{{ e.allowance.limit }}</td>
                 <td>{{ e.role_text }}</td>
               </tr>
             {% endfor %}
           </tbody>
         </table>

    </div>
    <div class="tab-pane fade" id="invited" role="tabpanel" aria-labelledby="invited-tab">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Email</th>
            <th scope="col">Employee ID</th>
            <th scope="col">Allowance</th>
            <th scope="col">Role</th>
          </tr>
        </thead>
        <tbody>
          {% for e in employees.invited %}
            <tr>
              <td>{{ e.user.get_full_name }}</td>
              <td>{{ e.user.email }}</td>
              <td>{{ e.id }}</td>
              <td>{{ e.allowance.limit }}</td>
              <td>{{ e.role_text }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>

    </div>
  </div>
{% endblock %}
